# Structure of Spatial Data 

## What makes spatial data special {.unnumbered}

*  Always **tagged with location** (coordinates that define location, shape, and extent)
      +  A location can be defined as a position in space, and even more so a position with respect to a specific grid system.
  
* **Complex** (incorporates space and time; three-dimensional space)

* **Spatial dependence** (spatial autocorrelation)

* **High dimensional** (sometimes)

## Tobler's First Law of Geography: Spatial Autocorrelation {.unnumbered} 

![Tobler's First Law of Geography](_images\tobler_law.png){.lightbox}

**Spatial Autocorrelation** (spatial dependence) violates the assumption of independent observations, which is needed in a lot of our very basic statistical analysis.

Spatial dependence can result in: 

* Clustered data
* Lower effective sample sizes
* Bias in statistical analyses


We have to account for this spatial dependence of our observations in our models. If we had a truly independent sample and we observed a spatial pattern in our data, that could reveal a spatial trend of interest. However, because our sample is dependent, the spatial pattern that we observe might truly reflect a spatial trend of interest or it might just be reflecting spatial autocorrelation.

## Generalization {.unnumbered}

Generalization is the process of simplifying the complexity of the real world to produce a map. **All maps that are created have some level of generalization.** You could never map the entire real world onto a two-dimensional piece of paper or a computer screen. The question comes down to: to what degree are we able to generalize or simplify our map without losing any critical data or information in order to communicate our story?

Ultimately, the choices that go into generalization reflects map makers judgments about what is important and what they're trying to illustrate. This includes the bias that a mapmaker may have and the values that a mapmaker may have. 


Types of **"Geometric Generalization"**:

*images from: https://cartography-playground.gitlab.io/playgrounds/cartographic-generalization/*

* **Selection**

    + selecting what features to include and what features to suppress in your map.
    + reduces the number of features by deleting / removing features that the map maker deems as insignificant
    ![Selection Generalization](_images\selection.png){.lightbox}
    

* **Simplification**

    + what level of detail do you need in your map? 
    + reduces unnecessary details by simplifying or abstrating shapes
    ![Selection Generalization](_images\simplify.png){.lightbox}
    

* **Displacement**

    + performed to avoid geographic interference (overlap), often for the purposes of visual clarity and understanding.
    + resolves conflicts like overlaps by repositioning features
      ![Displacement Generalization](_images\displace.png){.lightbox}


* **Smoothing**

    + a reduction in detail to enhance visual clarity and simplicity, particularly around polygon edges.
    + refines and smooths geometries to make them more aesthetically pleasing. 
    + Again, the question we must ask ourselves is what level of realistic detail is necessary to include for accurate and adequate representation of the story we want to communicate in our map. 
    ![Selection Generalization](_images\smooth.png){.lightbox}
    

* **Enhancement**

    + making features and shapes that are more recognizable: adjusting the appearances of certain features for easier interpretation. For example, make a river look like a river by using smooth edges and blue colors. Even if a river is not labeled on a map, often times people are able to recognize that it is a water body based on its representation through shape and color.

--------


## Two Types of Spatial Data: Vectors and Rasters

![Vectors vs Rasters](_images\vectors_rasters.png){.lightbox}

```{r, echo = FALSE}

library(dplyr)
library(kableExtra)
library(knitr)

vector_raster <- read.csv(file = "_info_tables/rasters_vectors.csv")

vector_raster_table <- vector_raster %>%
  kbl(caption = "Vectors vs. Rasters",
      align = "c") %>%
  column_spec(1, bold = TRUE) %>%  
  row_spec(0, font_size = 20, bold = TRUE) %>%
  kable_styling(
    bootstrap_options = c("striped"),
    full_width = FALSE, 
    position = "center", 
    font_size = 18)

vector_raster_table

```


### Vector data {.unnumbered}

Vector data is in the form of either points, polygons, or lines. We talked about how points can be either point process data or point reference data, and how the creation of these spatial data requires geometric and content generalization. 


### Raster data {.unnumbered}

Raster data is a grid of information where each grid takes on a single value. Raster values are stored as image files. 







